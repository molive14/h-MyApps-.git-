<!DOCTYPE html>
<html>
    <head> 
        <div id ="orange_bar"></div>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name= "viewport" content= "width=device-width, inital-scale=1">
        <meta name="description" content=" A Homepage, FAQ Page, About Page and Interview page.">
        <Title> Candidates Page</Title>


        <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
        <link rel = "stylesheet" href= "{{ url_for('static',filename='styles/stylesheet.css') }}"/>
        <link rel ="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css "/>
       
    </head>
    <body> 

        <ul id ="website_links"> 
            <li><a href="/interviews" targer="_blank">Interviews</a></li>
            <li><a href="/about" target="_blank">About</a></li>
            <li><a href="/faq" target="_blank">FAQ</a></li>
        </ul>
        <div  style="margin-left:15%; padding: 1px 16px; height:1000px;">
            <h3>Here are Processed Forms for Potential Candidates for hire</h3>

            <div class="ghost"> 
                    <div class="form">
                       <form id="interviews" name="interviews" method="POST" action= "{{url_for('interview')}}">
                          
                       <label for ="name">Interviewee:</label>
                       <input type="text" id="interviewee" name="interviewee">
                       
                         
                       <label for ="name">Interviewer:</label>
                       <input type="text" id="interviewer" name="interviewer">
                         
                       <label for ="mail">Candidates Email:</label>
                       <input type="email" id="candidatesemail" name="candidatesEmail">
                       
                      
                       <label for="radio">Intern:</label>
                       <input type="radio" id="intern" name="job" value="intern">
                           
                       <label for="radio">Apprentenship:</label>
                       <input type="radio" id="Apprentenship" name="job" value="Apprentenship">
                          
                       <label for="radio">Full-Time:</label>
                       <input type="radio" id="full-time" name="job" value="full-time">
                           <div class="description">
                       <label for="description">Description:</label>
                       <textarea id="description" name="description"></textarea>
                           </div>
                       <label for="time"> Time:</label>
                       <input type="datetime-local" id="time" name="time">
                       <div class= "telephone">
                        <label for= "telephone">Telephone</label>
                        <input type="tel" id = "phone" name="telephone">
                            </div>
                            <div class= "resume">
                        <label for="resume"> Resume </label>
                        <input type="file" id="resume" name="resume">
                            </div>

                           <div class= submit-button>
                      <button class="interviews-form__button" name="submit" value="submit" type="submit" onclick="displayResult()"> Submit</button>
                           </div>
                        </form>

<div class="interviewForm-popup" id="interview-popup">
    <form class="form-container" id="interviews" name="interviews" method="POST" action= "{{url_for('interview')}}">
        <label for ="name">Interviewee:</label>
        <input type="text" id="interviewee" name="interviewee">
        
          
        <label for ="name">Interviewer:</label>
        <input type="text" id="interviewer" name="interviewer">
          
        <label for ="mail">Candidates Email:</label>
        <input type="text" id="candidatesemail" name="candidatesEmail">
        
        <div class= "radio">
        <label for="radio">Intern:</label>
        <input type="radio" id="intern" name="job" value="intern">
            
        <label for="radio">Apprentenship:</label>
        <input type="radio" id="Apprentenship" name="job" value="Apprentenship">
           
        <label for="radio">Full-Time:</label>
        <input type="radio" id="full-time" name="job" value="full-time">
        </div>

        <div class="description">
        <label for="description">Description:</label>
        <textarea id="description" name="description"></textarea>
            </div>
        <label for="time"> Time:</label>
        <input type="datetime-local" id="time" name="time">

        <div class= "telephone">
            <label for= "telephone">Telephone</label>
            <input type="tel" id = "phone" name="telephone">
                </div>
                <div class= "resume">
            <label for="resume"> Resume </label>
            <input type="file" id="resume" name="resume">
                </div>
            <div class= submit-button>
       <button class="interviews-form__button" name="submit" value="submit" type="submit" onclick="displayResult()"> Submit</button>
       <button type="button" class="interviews-form__close" onclick="closeForm()">Close</button>
            </div>
         </form>





</div>
            </div>
</div>
<button class="open-button" onclick= "openForm()">Add New Candidate</button>
            <div class="items">
                    <table id="itemTable"
                            class="table table-bordered
                                    table-condensed table-striped" >
                                    <tr id="candidatesTable"></tr>
                    <thead>
                    <tr>
                    <th scope="col">interview</th>
                    <th scope="col">Interviewee</th>
                    <th scope="col">Interviewer</th>
                    <th scope="col">CandidatesEmail</th>
                    <th scope="col">Telephone</th>
                    <th scope="col">Description</th>
                    <th scope="col">Job</th>
                    <th scope="col">Time</th>
                    <th scope="col">Resume</th>

                    <th scope="delete">delete</th>
                    <th scope="edit">Edit</th>
                    <th scope="save">Save</th>
       
                  
                    </tr>
                    </thead>
                    
                    {% for interview in interviews %} 
                    <tr id = "interview">
                                    <th scope="row">{{interview.interview}}</th>
                                    <th>{{interview.interviewee}}</th>
                                    <th>{{interview.interviewer}}</th>
                                    <th>{{interview.candidatesEmail}}</th>
                                    <th>{{interview.telephone}}</th>
                                    <th>{{interview.description}}</th>
                                    <th>{{interview.job}}</th>
                                    <th>{{interview.time}}</th>
                                    <th>{{interview.resume}}</th>
                                    <td><form method="POST" action="/delete" ><input  type="submit" class="delete" name="delete_button_{{loop.index0}}" value="{{interview.time}}" onclick ="deleteRow();"></form></td>
                                    <td><input type="button"  value="Edit Row" onclick="editRowFunction(this);"></td>
                                    <td><input type="button"  value="Save Row" id="saveRow" onclick="saveRowFunction(this);"></td>
                                    
                                    </tr>
                    {% endfor %}
                   
                    </table>

                    </div>    
                    
            
                    <script> 
                    function deleteRow() {
                        $.ajax({
                            url: "/delete",
                            success: function(result) {
                                alert("Deleted Interview");
                            }
                        })
                    }
                 
                
                    function openForm() {
                        document.getElementById("interview-popup").style.display = "block";

                    }
                    function closeForm() {
                        document.getElementById("interview-popup").style.display = "none";
                    }
            
                
                    function editRowFunction(btnedit) {
                        if(typeof(btnedit) == "object") {
                           $(btnedit).closest("tr").prop("contentEditable", true);
                        } else {
                            return false;
                        }
                    }
               
                    function saveRowFunction(btnsave) {
                        if(typeof(btnsave) == "object") {
                            $(btnsave).closest("tr").prop("contentEditable", false);
                        } else {
                            return false;
                        }
                    }
                 
                       
                    
                    </script>
                    
     
    </body>
</html>
